# drjutils Fixup Tasks

This document tracks the outstanding work needed to stabilize and clean up the repository.
It is generated by reviewing the current code base and tests.

## Instructions

1. Pick the next task and complete it.
2. If you discover new tasks that need to be completed while completing the task, add them to the list in the appropriate spot, respecting priority and prerequisites.
3. If a task isn't adequately explained or is missing an important detail, update it.
4. Don't forget to update the `docs\notes` files with details about what was done, why it was done, and any relevant thoughts or lessons learned.
5. Add any general notes that will apply broadly to subsequent work in the `General Notes` section below.
6. Update these instructions if important missing instructions that should be here are discovered.

## General Notes

### Important Base Classes and Modules

These classes and modules are important and used in other classes and should be kept in mind when writing other code.

TODO: Add summaries to the files to give better context.

- **sentinel**: Used when it's important to differentiate between a `None` value and `UNSET` when the caller did not specify a value for a parameter.
- **type_checks**:
- **type_debugging**:
- **enum_utils**:
- **mapped_enum**:
- **enum_regex**:
- **collection_assertions**:
- **collection_utils**:
- **boolean_alias**:

## Task List

- [x] **Fix automation setup script**: end with a newline and ensure commands are correct.
- [x] **Fix `MappedEnum.__new__`**: allow enum members defined with tuples to be created correctly.
- [x] **Repair configuration path helpers**: avoid shadowing `Path` from `pathlib` and build file paths correctly.
- [x] **Clean up `MappedEnum` imports** once the class is finalized.
  - Look for any bugs in this class.
- **Finish `collections` classes**
- **Rename `boolean_alias` to `boolean_enum_base`**
- **Move methods in `types` to appropriate classes**: delete duplicates if the method already exists in the target class.
  - Worry about fixing them after all of the organization work is complete.
- [x] **Remove or implement `foo()`** in `d_words.py`.
- [x] **Create `EnumRegex` base class**: similar to `MappedEnum` but using regex patterns tied to enum members.
- **Add `active` vs `past_tense` switch to `EnabledDisabled` class**: A flag is need to change the default verbage for the `EnabledDisabled` class. Once set, should affect all instances of the class.
- **Update tests path to match src folder structure**
- **Create test classes for base classes**
- **Update types classes to use base classes**
- **Document boolean regex constants**: fill in docstrings in `d_bools.py` and `enabled_disabled.py`.
- **Clean up interval utilities**:
  - Implement helpers such as `check_interval_str_match`, `check_std_interval_str_match`, `to_std_interval_str`, `std_interval_rgx`, and `is_std_interval_str` or update tests.
  - Ensure all regex and conversion functions work with strings and tuples.
- **Audit and complete tests** for the revised modules (types, intervals, numbers, config).
- **Finish schema parser features** and enable related tests.
- **Handle array item paths in config generators**: replace placeholder `pass`.
- **Add support for reading secrets based on platform**: The secrets currently assume Windows. Add Linux support as well as platform detection.
- **Refine documentation** to match the final APIs and remove stale references.
